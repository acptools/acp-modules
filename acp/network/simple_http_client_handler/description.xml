<?xml version="1.0"?>
<component-type name="acp.network.simple_http_client_handler">
	<description></description>
	<dependencies>
		<module>acp.network.libs.handling_servers</module>
	</dependencies>
	<view>
		<includes>
			<include>SimpleHttpClientHandler.h</include>
		</includes>
		<class>acp_network_simple_http_client_handler::TSimpleHttpClientHandler</class>
		<template-args>
			<arg type="property">BufferSize</arg>
			<arg type="property">Timeout</arg>
		</template-args>
		<constructor-args>
			<arg type="autogenerated">controller</arg>
		</constructor-args>
	</view>
	<controller>
		<includes>
			<include>SimpleHttpClientHandler.h</include>
		</includes>
		<class>acp_network_simple_http_client_handler::SimpleHttpHandlingController</class>
		<template-args>
			<arg type="property">BufferSize</arg>
			<arg type="property">Timeout</arg>
		</template-args>
		<init>
			<method>init</method>
			<arg type="property">Authentication</arg>
			<arg type="property">EnableCORS</arg>		
		</init>
	</controller>
	<properties>
		<property>
			<name>BufferSize</name>
			<type min="100" max="2000">int</type>
			<value type="default">200</value>
			<description>Size of universal buffer (in bytes) used to receive and store request data.</description>
		</property>
		<property>
			<name>Timeout</name>
			<type min="500" max="30000">long</type>
			<value type="default">3000</value>
			<description>Time limit in milliseconds to receive http request.</description>
		</property>
		<property>
			<name>EnableCORS</name>
			<type>bool</type>
			<value type="default">false</value>
			<description>Default CORS support for processing requests.</description>
		</property>
		<property>
			<name>Authentication</name>
			<type>f-string</type>
			<description>Default configuration of the basic http authentication. Format: BASE64(Login:Password) or BASE64(Login:Password):Realm</description>
		</property>
	</properties>
	<events>
		<event>
			<name>OnFeaturesSetting</name>
			<parameters>
				<parameter name="url">const char*</parameter>
				<parameter name="features">acp_network_simple_http_client_handler::Features&amp;</parameter>
			</parameters>
			<binding type="attribute">setFeaturesEvent</binding>
			<description>When feature settings of request processing are configured.</description>
		</event>	
		<event>
			<name>OnRequestProcessing</name>
			<parameters>
				<parameter name="request">acp_network_simple_http_client_handler::HttpRequest&amp;</parameter>
				<parameter name="response">acp_network_simple_http_client_handler::HttpResponse&amp;</parameter>
			</parameters>
			<binding type="attribute">processRequestEvent</binding>
			<description>When the request is processed.</description>
		</event>	
	</events>
	<loopers>
		<looper>
			<method>serverLooper</method>
			<interval>50</interval>
		</looper>
	</loopers>	
</component-type>
