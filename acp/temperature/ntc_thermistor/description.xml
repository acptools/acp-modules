<?xml version="1.0"?>
<component-type name="acp.temperature.ntc_thermistor">
	<description>NTC thermistor with software mode filter.</description>
	<view>
		<includes>
			<include>NTCThermistor.h</include>
		</includes>
		<class>acp_temperature_ntcthermistor::TNTCThermistor</class>
		<template-args>
			<arg type="property">History</arg>
			<arg type="property">NominalResistance</arg>
			<arg type="property">NominalTemperature</arg>
			<arg type="property">BCoefficient</arg>
			<arg type="property">SeriesResistor</arg>
			<arg type="property">SHDelay</arg>
		</template-args>
		<constructor-args>
			<arg type="autogenerated">controller</arg>
		</constructor-args>
	</view>
	<controller>
		<includes>
			<include>NTCThermistor.h</include>
		</includes>
		<class>acp_temperature_ntcthermistor::NTCThermistorController</class>
		<template-args>
			<arg type="property">History</arg>
			<arg type="property">NominalResistance</arg>
			<arg type="property">NominalTemperature</arg>
			<arg type="property">BCoefficient</arg>
			<arg type="property">SeriesResistor</arg>
			<arg type="property">SHDelay</arg>
		</template-args>
		<constructor-args>
			<arg type="property">Pin</arg>
		</constructor-args>
		<init>
			<method>init</method>
		</init>
	</controller>
	<properties>
		<property>
			<name>History</name>
			<type min="3" max="20">byte</type>
			<value type="default">7</value>
			<description>The number of latest readings that are used to compute a median value.</description>
		</property>
		<property>
			<name>NominalResistance</name>
			<type>long</type>
			<value type="default">10000</value>
			<description>Resistance at nominal temperature.</description>
		</property>
		<property>
			<name>NominalTemperature</name>
			<type>int</type>
			<value type="default">25</value>
			<description>Nominal temperature.</description>
		</property>
		<property>
			<name>BCoefficient</name>
			<type>int</type>
			<value type="default">3950</value>
			<description>The beta coefficient of the thermistor (usually 3000-4000).</description>
		</property>
		<property>
			<name>SeriesResistor</name>
			<type>long</type>
			<value type="default">10000</value>
			<description>The value of the other resistor.</description>
		</property>		
		<property>
			<name>Pin</name>
			<type>analog-pin</type>
			<description>The pin from which the value is read.</description>
		</property>
		<property>
			<name>ReadInterval</name>
			<type>unsigned long</type>
			<value type="default">1000</value>
			<description>Read interval in milliseconds.</description>
		</property>
		<property>
			<name>SHDelay</name>
			<type>unsigned int</type>
			<value type="default">0</value>
			<description>Delay between selecting channel to ADC and sampling. Necessary for circuits with higher resistance (over 10K).</description>
		</property>			
	</properties>
	<events>
		<event>
			<name>OnValueChanged</name>
			<binding type="attribute">valueChangedEvent</binding>
			<description>When the temperature changed.</description>
		</event>	
	</events>
	<loopers>
		<looper>
			<method>readLooper</method>
			<interval>ReadInterval</interval>
		</looper>
	</loopers>	
</component-type>
